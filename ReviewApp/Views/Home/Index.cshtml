@using ReviewApp.Models
@using ReviewApp.Helpers
@model IEnumerable<Review>

@{
    ViewData["Title"] = "Отзывы";
}

<h1>Отзывы пользователей</h1>

<div>
    <h2>Оставьте свой отзыв</h2>
    @using (Html.BeginForm("AddReview", "Home", FormMethod.Post))
    {
        <div>
            @Html.LabelFor(m => new Review().AuthorName, "Ваше имя:")
            @Html.TextBoxFor(m => new Review().AuthorName, new { required = "required" })
        </div>
        <div>
            @Html.LabelFor(m => new Review().ReviewText, "Текст отзыва:")
            @Html.TextAreaFor(m => new Review().ReviewText, new { rows = 5, required = "required" })
        </div>
        <div>
            @Html.LabelFor(m => new Review().Rating, "Оценка (1-5):")
            @Html.TextBoxFor(m => new Review().Rating, new { type = "number", min = "1", max = "5", required = "required" })
        </div>
        <button type="submit">Отправить отзыв</button>
    }
</div>

<hr />

<h2>Последние отзывы</h2>
@if (Model != null && Model.Any())
{
    foreach (var review in Model)
    {
        @Html.ReviewDisplay(review) @* HTML-хелпер *@
    }
}
else
{
    <p>Пока нет отзывов. Будьте первым!</p>
}
